<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI CoreWork - 智能設計協作平台</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 主容器 -->
    <div class="main-container">
        <!-- 標題區 -->
        <header class="header">
            <h1><i class="fas fa-palette"></i> UI CoreWork</h1>
            <p class="subtitle">智能設計協作平台 - Chat & Draw</p>
        </header>

        <!-- 主要工作區 -->
        <div class="workspace">
            <!-- 左側：對話區域 -->
            <div class="chat-section">
                <div class="chat-header">
                    <h3><i class="fas fa-comments"></i> AI 對話助手</h3>
                    <div class="chat-status">
                        <span class="status-indicator" id="chatStatus">離線</span>
                    </div>
                </div>
                
                <!-- 對話歷史 -->
                <div class="chat-messages" id="chatMessages">
                    <div class="message system-message">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <p>您好！我是 UI CoreWork 助手。您可以：</p>
                            <ul>
                                <li>與我對話討論設計想法</li>
                                <li>在右側繪圖區畫出您的 UI 概念</li>
                                <li>我會即時識別並提供建議</li>
                                <li>查看相關的設計範例</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 輸入區域 -->
                <div class="chat-input-container">
                    <div class="input-wrapper">
                        <textarea 
                            id="chatInput" 
                            class="chat-input" 
                            placeholder="輸入您的問題或設計需求..."
                            rows="3"
                        ></textarea>
                        <div class="input-actions">
                            <button class="btn-secondary" id="clearChat">
                                <i class="fas fa-trash"></i> 清空
                            </button>
                            <button class="btn-primary" id="sendMessage">
                                <i class="fas fa-paper-plane"></i> 發送
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 聊天容器 -->
                <div id="chat-container" class="chat-container">
                    <!-- 聊天內容將動態載入 -->
                </div>
            </div>

            <!-- 中間：繪圖區域 -->
            <div class="drawing-section">
                <div class="drawing-header">
                    <h3><i class="fas fa-draw-polygon"></i> 設計繪圖區</h3>
                    <div class="drawing-tools">
                        <button class="tool-btn active" data-tool="pen" title="畫筆">
                            <i class="fas fa-pen"></i>
                        </button>
                        <button class="tool-btn" data-tool="eraser" title="橡皮擦">
                            <i class="fas fa-eraser"></i>
                        </button>
                        <button class="tool-btn" data-tool="rectangle" title="矩形">
                            <i class="fas fa-square"></i>
                        </button>
                        <button class="tool-btn" data-tool="circle" title="圓形">
                            <i class="fas fa-circle"></i>
                        </button>
                        <div class="color-picker">
                            <input type="color" id="colorPicker" value="#000000" title="顏色選擇">
                        </div>
                        <button class="tool-btn" id="clearCanvas" title="清空畫布">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 畫布區域 -->
                <div class="canvas-container">
                    <canvas 
                        id="drawing-canvas" 
                        width="800" 
                        height="600"
                        class="drawing-canvas"
                    ></canvas>
                    
                    <!-- 繪圖狀態顯示 -->
                    <div class="drawing-status">
                        <div class="status-item">
                            <span>座標: <span id="mouseCoords">0, 0</span></span>
                        </div>
                        <div class="status-item">
                            <span>工具: <span id="currentTool">畫筆</span></span>
                        </div>
                        <div class="status-item">
                            <span>識別: <span id="recognitionResult">待檢測</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右側：範例展示區 -->
            <div class="examples-section">
                <div class="examples-header">
                    <h3><i class="fas fa-images"></i> 設計範例</h3>
                    <div class="search-controls">
                        <input 
                            type="text" 
                            id="exampleSearch" 
                            placeholder="搜尋範例..."
                            class="search-input"
                        >
                        <button class="btn-search" id="searchExamples">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 範例圖片展示 -->
                <div class="examples-container">
                    <div class="example-category">
                        <h4>按鈕設計</h4>
                        <div class="example-grid" data-category="buttons">
                            <div class="example-item" data-example="button-1">
                                <div class="example-placeholder">
                                    <i class="fas fa-mouse-pointer"></i>
                                    <p>按鈕範例 1</p>
                                </div>
                            </div>
                            <div class="example-item" data-example="button-2">
                                <div class="example-placeholder">
                                    <i class="fas fa-hand-pointer"></i>
                                    <p>按鈕範例 2</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="example-category">
                        <h4>表單設計</h4>
                        <div class="example-grid" data-category="forms">
                            <div class="example-item" data-example="form-1">
                                <div class="example-placeholder">
                                    <i class="fas fa-wpforms"></i>
                                    <p>表單範例 1</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="example-category">
                        <h4>AI 識別結果</h4>
                        <div class="ai-suggestions" id="aiSuggestions">
                            <div class="suggestion-placeholder">
                                <i class="fas fa-brain"></i>
                                <p>開始繪圖，AI 將提供相關建議...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 修復：添加缺失的 #examples-container 元素 -->
                <div id="examples-container" class="examples-container">
                    <p>範例模組內容將在此顯示。</p>
                </div>
            </div>
        </div>

        <!-- 底部狀態列 -->
        <footer class="status-bar">
            <div class="status-left">
                <span><i class="fas fa-wifi"></i> 連線狀態: <span id="connectionStatus">已連線</span></span>
                <span><i class="fas fa-database"></i> 資料庫: <span id="dbStatus">SQLite 就緒</span></span>
            </div>
            <div class="status-right">
                <span><i class="fas fa-clock"></i> <span id="currentTime"></span></span>
                <span><i class="fas fa-user"></i> UI CoreWork v1.0</span>
            </div>
        </footer>
    </div>

    <!-- JavaScript 模組 -->
    <script src="/static/js/config.js"></script>
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/drawing.js"></script>
    <script src="/static/js/chat.js"></script>
    <script src="/static/js/examples.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/main.js"></script>
</body>
</html>